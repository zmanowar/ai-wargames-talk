# This script was written by OpenAI 4.0 when attempting to
# telnet without having access to any other resources.

import telnetlib
import time

host = "192.168.1.106"
user = "msfadmin"
password = "msfadmin"

try:
    tn = telnetlib.Telnet(host, 23, timeout=10)
    # Wait for login prompt
    login_prompt = tn.read_until(b"login: ", timeout=5)
    #print(login_prompt.decode('ascii', errors='ignore'))
    tn.write(user.encode('ascii') + b"\n")
    password_prompt = tn.read_until(b"Password: ", timeout=5)
    #print(password_prompt.decode('ascii', errors='ignore'))
    tn.write(password.encode('ascii') + b"\n")
    # wait for shell prompt
    time.sleep(2)
    tn.write(b"id\n")
    time.sleep(2)
    output = tn.read_very_eager()
    print(output.decode('ascii', errors='ignore'))
    tn.close()
except Exception as e:
    print(f"Error: {e}")

